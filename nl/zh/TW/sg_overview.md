---



copyright:
  years: 2017
lastupdated: "2018-11-10"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 關於安全群組

## 何謂安全群組？
*安全群組* 是一組 IP 過濾器規則，定義如何處理對虛擬伺服器實例之公用和專用介面的送入（輸入）及送出（輸出）資料流量。您新增至安全群組的規則稱為*安全群組規則*。
{:shortdesc}

* 您可以將安全群組指派給單一虛擬伺服器或多個虛擬伺服器實例的公用及/或專用網路介面。
* 您可以指派由 IBM 提供的安全群組，或者您所建立的安全群組。
* 當安全群組被套用至虛擬伺服器實例的網路元件時，與該網路元件之間的所有資料流量會被拒絕，除非由安全群組規則明確允許。
* 送往虛擬伺服器實例的入埠資料流量稱為輸入資料流量。
* 來自虛擬伺服器實例的出埠資料流量稱為輸出資料流量。

安全群組實作在管理虛擬伺服器的 Hypervisor 上。

## IBM 提供的安全群組
您可以將 IBM 提供的下列任何安全群組，指派給虛擬伺服器實例的網路介面：

* *allow_ssh*：此安全群組定義的 IP 規則，只在 SSH 埠 (22/TCP) 上允許輸入 TCP 資料流量。
* *allow_http*：此安全群組定義的 IP 規則，只在 HTTP 埠 (80/TCP) 上允許輸入資料流量。
* *allow_https*：此安全群組定義的 IP 規則，只在 HTTPS 埠 (443/TCP) 上允許輸入 TCP 資料流量。
* *allow_outbound*：此安全群組定義的 IP 規則，會允許來自伺服器的所有輸出資料流量。
* *allow_all*：此安全群組定義的 IP 規則，會允許所有埠上的所有輸入資料流量。

## 安全群組及審核日誌
所有安全群組互動都記載至帳戶的[審核日誌](/docs/customer-portal/cpmonenv.html#cp_viewacctauditlog)。審核日誌項目追蹤特定的安全群組變更，以及哪一個使用者要求變更。在進行下列互動時，即會撰寫日誌：
* 在虛擬伺服器的網路介面中新增或移除安全群組
* 安全群組的規則由新增規則、編輯規則或移除規則所變更

對於每一個互動，會針對每一個受影響的物件撰寫一個日誌。日誌一律針對變更的安全群組而撰寫。會針對連接到安全群組的每一個虛擬伺服器網路介面撰寫其他的日誌。過濾特定安全群組上的審核日誌將顯示該群組的所有安全群組相關變更。同樣地，過濾特定虛擬伺服器上的日誌將顯示該虛擬伺服器的所有安全群組相關變更。

由於安全群組變更可能導致在背景中更新一些虛擬伺服器，因此，可使用審核日誌來精確判斷變更何時生效。產生審核日誌的安全群組 API 會傳回要求 ID。此 ID 可用來使 API 呼叫與其產生的審核日誌產生關聯。

## 範例
在下圖中，虛擬伺服器實例與一組安全群組相關聯，以限制網路資料流量。箭頭代表網路資料流量流程。應用程式開發人員對於各種基礎架構層具有受限存取權，如下所示：

* 應用程式開發人員只能存取 TCT 埠 443 (https) 上的 Web 層。
* 只有 Web 層實例可以存取應用程式層實例。
* 只有應用程式層實例可以存取資料庫層實例。 

![安全群組影像](images/SecurityGroups.png "影像顯示已啟用一組安全群組的網路資料流量流程") 圖 1. 安全群組影像


